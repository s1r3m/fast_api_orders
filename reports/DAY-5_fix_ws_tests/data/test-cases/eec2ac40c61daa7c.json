{"uid":"eec2ac40c61daa7c","name":"test_create_order__bad_quantity__error_response[zero_value]","fullName":"tests.orders.test_create_order#test_create_order__bad_quantity__error_response","historyId":"229527040ea3a60f36b58bfbf80953ae","time":{"start":1734970197599,"stop":1734970198352,"duration":753},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1734970166441,"stop":1734970166441,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"actions","time":{"start":1734970197573,"stop":1734970197599,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"status":"passed","steps":[{"name":"create_order","time":{"start":1734970197599,"stop":1734970198351,"duration":752},"status":"broken","statusMessage":"trader_qa.clients.api_client.UnexpectedStatusCode: Expected status code 201, but was 422.\n{\"detail\":[{\"type\":\"greater_than\",\"loc\":[\"body\",\"quantity\"],\"msg\":\"Input should be greater than 0\",\"input\":0,\"ctx\":{\"gt\":0}}]}\n","statusTrace":"  File \"/root/.cache/pypoetry/virtualenvs/fast-api-orders-autotests-nvcCJ8lQ-py3.10/lib/python3.10/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"/qa/trader_qa/actions/user_actions.py\", line 20, in create_order\n    response = self._clients.api.post_order(order.stocks, order.quantity)\n  File \"/root/.cache/pypoetry/virtualenvs/fast-api-orders-autotests-nvcCJ8lQ-py3.10/lib/python3.10/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"/qa/trader_qa/clients/api_client.py\", line 132, in post_order\n    return self._call(request, HTTPStatus.CREATED)\n  File \"/qa/trader_qa/clients/api_client.py\", line 112, in _call\n    raise UnexpectedStatusCode(err_msg, response=response)\n","steps":[{"name":"post_order","time":{"start":1734970197599,"stop":1734970198351,"duration":752},"status":"broken","statusMessage":"trader_qa.clients.api_client.UnexpectedStatusCode: Expected status code 201, but was 422.\n{\"detail\":[{\"type\":\"greater_than\",\"loc\":[\"body\",\"quantity\"],\"msg\":\"Input should be greater than 0\",\"input\":0,\"ctx\":{\"gt\":0}}]}\n","statusTrace":"  File \"/root/.cache/pypoetry/virtualenvs/fast-api-orders-autotests-nvcCJ8lQ-py3.10/lib/python3.10/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"/qa/trader_qa/clients/api_client.py\", line 132, in post_order\n    return self._call(request, HTTPStatus.CREATED)\n  File \"/qa/trader_qa/clients/api_client.py\", line 112, in _call\n    raise UnexpectedStatusCode(err_msg, response=response)\n","steps":[],"attachments":[{"uid":"a16a9b3e1fbc2350","name":"Request - POST /orders","source":"a16a9b3e1fbc2350.json","type":"application/json","size":317},{"uid":"73a6df52b3f9a44f","name":"Response - 422 /orders","source":"73a6df52b3f9a44f.json","type":"application/json","size":567}],"parameters":[{"name":"stocks","value":"'EURUSD'"},{"name":"quantity","value":"0"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true}],"attachments":[],"parameters":[{"name":"order","value":"Order(stocks=<Stock.EURUSD: 'EURUSD'>, quantity=0, status=<OrderStatus.PENDING: 'PENDING'>, id=-1)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true},{"name":"check_error_response","time":{"start":1734970198351,"stop":1734970198351,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"exc","value":"<ExceptionInfo UnexpectedStatusCode('Expected status code 201, but was 422.\\n{\"detail\":[{\"type\":\"greater_than\",\"loc\":[\"body\",\"quantity\"],\"msg\":\"Input should be greater than 0\",\"input\":0,\"ctx\":{\"gt\":0}}]}') tblen=6>"},{"name":"error","value":"'Input should be greater than 0'"},{"name":"status_code","value":"<HTTPStatus.UNPROCESSABLE_ENTITY: 422>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":2,"hasContent":true},"afterStages":[{"name":"actions::0","time":{"start":1734970198352,"stop":1734970198354,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"parentSuite","value":"tests.orders"},{"name":"suite","value":"test_create_order"},{"name":"host","value":"169dc3b96947"},{"name":"thread","value":"32-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.orders.test_create_order"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"quantity","value":"0"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":[]},"source":"eec2ac40c61daa7c.json","parameterValues":["0"]}